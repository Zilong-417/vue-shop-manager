(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15fee567"],{"1d33":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{staticStyle:{margin:"0 0 15px 0"},attrs:{type:"primary",icon:"el-icon-plus",round:""},on:{click:e.showDialog}},[e._v("添加 ")]),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.list}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"center"}}),a("el-table-column",{attrs:{prop:"tmName",label:"品牌名称",align:"center"}}),a("el-table-column",{attrs:{prop:"logoUrl",label:"品牌LOGO",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;e.$index;return[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.logoUrl,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"address",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;t.$index;return[a("el-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-edit",round:""},on:{click:function(t){return e.updatetradeMark(r)}}},[e._v("修改 ")]),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",round:""},on:{click:function(t){return e.deletetradeMark(r)}}},[e._v("删除 ")])]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"30px","text-align":"center"},attrs:{background:"",total:e.total,"current-page":e.page,"page-size":e.limit,"page-count":8,"page-sizes":[3,5,10],layout:"prev, pager, next,jumper,->,sizes,total"},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}),a("el-dialog",{attrs:{title:this.tmForm.id?"修改品牌":"添加品牌",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"rulesForm",staticStyle:{width:"90%"},attrs:{model:e.tmForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"品牌名称：","label-width":"100px",prop:"tmName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.tmForm.tmName,callback:function(t){e.$set(e.tmForm,"tmName",t)},expression:"tmForm.tmName"}})],1),a("el-form-item",{attrs:{label:"品牌图标：","label-width":"100px",prop:"logoUrl"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/dev-api/admin/product/fileUpload","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.tmForm.logoUrl?a("img",{staticClass:"avatar",attrs:{src:e.tmForm.logoUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])])],1),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addOrUpdateTradeMark}},[e._v("确 定")])],1)],1)],1)},o=[],n=a("f3f3"),i=a("f07e"),s=a("c964"),l=(a("5788"),a("4f52"),{name:"tradeMark",data:function(){var e=function(e,t,a){t.length<3||t.length>10?a(new Error("请输入3到10的字符串")):a()};return{page:1,limit:3,total:0,list:[],dialogFormVisible:!1,tmForm:{logoUrl:"",tmName:""},rules:{tmName:[{validator:e,trigger:"blur"}],logoUrl:[{required:!0,message:"请选择图片"}]}}},mounted:function(){this.getPageList()},methods:{getPageList:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var a,r,o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.page,r=e.limit,t.next=3,e.$API.trademark.reqTradeMarkList(a,r);case 3:o=t.sent,console.log(o),200==o.code&&(e.total=o.data.total,e.list=o.data.records);case 6:case"end":return t.stop()}}),t)})))()},handleCurrentChange:function(e){this.page=e,this.getPageList()},handleSizeChange:function(e){this.limit=e,this.getPageList()},showDialog:function(){this.dialogFormVisible=!0,this.tmForm={logoUrl:"",tmName:""}},updatetradeMark:function(e){console.log(e),this.dialogFormVisible=!0,this.tmForm=Object(n["a"])({},e)},handleAvatarSuccess:function(e,t){this.tmForm.logoUrl=e.data},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},addOrUpdateTradeMark:function(){var e=this;this.$refs.rulesForm.validate(function(){var t=Object(s["a"])(Object(i["a"])().mark((function t(a){var r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=13;break}return e.dialogFormVisible=!1,t.next=4,e.$API.trademark.reqAddOrUpdateTradeMark(e.tmForm);case 4:if(r=t.sent,200!=r.code){t.next=11;break}e.$message({message:e.tmForm.id?"修改品牌成功":"添加品牌成功",type:"success"}),e.getPageList(),e.handleCurrentChange(e.tmForm.id?e.page:1),t.next=13;break;case 11:return console.log("error submit!!"),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},deletetradeMark:function(e){var t=this;this.$confirm("你确定要删除".concat(e.tmName,"吗"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(Object(i["a"])().mark((function a(){var r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$API.trademark.reqDeleteTradeMark(e.id);case 2:r=a.sent,200==r.code&&(t.$message({type:"success",message:"删除成功!"}),t.getPageList());case 4:case"end":return a.stop()}}),a)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}}),c=l,u=(a("f64b"),a("0c7c")),d=Object(u["a"])(c,r,o,!1,null,null,null);t["default"]=d.exports},"484a":function(e,t,a){},"4f52":function(e,t,a){"use strict";
/*!
 * statuses
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var r=a("b588");function o(e){var t={};return Object.keys(e).forEach((function(a){var r=e[a],o=Number(a);t[r.toLowerCase()]=o})),t}function n(e){return Object.keys(e).map((function(e){return Number(e)}))}function i(e){var t=e.toLowerCase();if(!Object.prototype.hasOwnProperty.call(l.code,t))throw new Error('invalid status message: "'+e+'"');return l.code[t]}function s(e){if(!Object.prototype.hasOwnProperty.call(l.message,e))throw new Error("invalid status code: "+e);return l.message[e]}function l(e){if("number"===typeof e)return s(e);if("string"!==typeof e)throw new TypeError("code must be a number or string");var t=parseInt(e,10);return isNaN(t)?i(e):s(t)}e.exports=l,l.message=r,l.code=o(r),l.codes=n(r),l.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},l.empty={204:!0,205:!0,304:!0},l.retry={502:!0,503:!0,504:!0}},b588:function(e){e.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')},f64b:function(e,t,a){"use strict";a("484a")}}]);